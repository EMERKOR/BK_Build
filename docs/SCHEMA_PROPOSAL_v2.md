# Ball_Knower v2.0 Schema Proposal

*Auto-generated by build_schema.py*

---

## 1. Summary of Scanned Files

**Total CSV files analyzed:** 13
**Total unique columns discovered:** 207
**Total rows across all files:** 7114

### Files Scanned:

- `cache/schedules_2025.csv` (272 rows, 46 columns)
- `current_season/epa_tiers_nfelo_2025_week_11.csv` (32 rows, 4 columns)
- `current_season/nfelo_nfl_receiving_leaders_2025_week_11.csv` (241 rows, 22 columns)
- `current_season/nfelo_nfl_win_totals_2025_week_11 (1).csv` (32 rows, 15 columns)
- `current_season/nfelo_qb_rankings_2025_week_11.csv` (46 rows, 46 columns)
- `current_season/power_ratings_nfelo_2025_week_11.csv` (32 rows, 21 columns)
- `current_season/power_ratings_substack_2025_week_11.csv` (33 rows, 10 columns)
- `current_season/qb_epa_substack_2025_week_11.csv` (62 rows, 9 columns)
- `current_season/strength_of_schedule_nfelo_2025_week_11.csv` (32 rows, 12 columns)
- `current_season/substack_weekly_proj_elo_2025_week_11.csv` (15 rows, 5 columns)
- `current_season/weekly_projections_ppg_substack_2025_week_11.csv` (15 rows, 5 columns)
- `reference/nfl_head_coaches.csv` (32 rows, 26 columns)
- `team_week_epa_2013_2024.csv` (6270 rows, 13 columns)

## 2. Proposed Unified Schema for v2.0

The following schema represents all columns discovered across the dataset:

| Column Name | Type | Files | Missing % | Notes |
|-------------|------|-------|-----------|-------|
| `/ Catch` | float | 1 | 0.0% | Only appears in one file |
| `/ DB` | float | 1 | 0.0% | Only appears in one file |
| `/ Game` | float | 1 | 0.0% | Only appears in one file |
| `/ Route` | float | 1 | 100.0% | High missing rate: 100.0%; Only appears in one file |
| `/ Target` | float | 1 | 0.0% | Only appears in one file |
| `1st Downs` | integer | 1 | 0.0% | Only appears in one file |
| `3rd Down` | float | 1 | 0.0% | Only appears in one file |
| `ANY/A` | float | 1 | 0.0% | Only appears in one file |
| `ATS %` | float | 1 | 0.0% | Only appears in one file |
| `Actual` | integer | 1 | 0.0% | Only appears in one file |
| `Adj. Total` | float | 1 | 0.0% | Only appears in one file |
| `Against` | float | 1 | 0.0% | Only appears in one file |
| `Air Yards` | float | 1 | 0.0% | Only appears in one file |
| `All` | float | 1 | 0.0% | Only appears in one file |
| `Atts` | integer | 1 | 0.0% | Only appears in one file |
| `Avg Margin` | float | 1 | 0.0% | Only appears in one file |
| `Avg PA` | float | 1 | 0.0% | Only appears in one file |
| `Avg PF` | float | 1 | 0.0% | Only appears in one file |
| `Avg Spread` | float | 1 | 0.0% | Only appears in one file |
| `Avg. Opp. Rating` | float | 1 | 0.0% | Only appears in one file |
| `Avg. Opp. Rating.1` | float | 1 | 0.0% | Only appears in one file |
| `Avg. Opp. Rating.2` | float | 1 | 100.0% | High missing rate: 100.0%; Only appears in one file |
| `Away` | float | 1 | 0.0% | Only appears in one file |
| `CB` | integer | 1 | 0.0% | Only appears in one file |
| `CB Opps` | integer | 1 | 0.0% | Only appears in one file |
| `CB%` | float | 1 | 17.4% | Only appears in one file |
| `CPOE` | float | 1 | 0.0% | Only appears in one file |
| `CROE` | float | 1 | 0.0% | Only appears in one file |
| `Carries` | integer | 1 | 0.0% | Only appears in one file |
| `Catch Rate` | float | 1 | 0.0% | Only appears in one file |
| `Change (Week)` | float | 1 | 0.0% | Only appears in one file |
| `Change (Year)` | float | 1 | 0.0% | Only appears in one file |
| `Coach` | string | 2 | 0.0% |  |
| `Comp` | integer | 1 | 0.0% | Only appears in one file |
| `Comp%` | float | 1 | 0.0% | Only appears in one file |
| `Conf Champ` | integer | 1 | 0.0% | Only appears in one file |
| `Current Rating` | float | 1 | 0.0% | Only appears in one file |
| `Date` | string | 2 | 0.0% |  |
| `Dif` | float | 1 | 0.0% | Only appears in one file |
| `Division` | float | 1 | 0.0% | Only appears in one file |
| `Dog` | float | 1 | 0.0% | Only appears in one file |
| `EPA/Play` | float | 1 | 0.0% | Only appears in one file |
| `EPA/Play Against` | float | 1 | 0.0% | Only appears in one file |
| `Elo` | float | 1 | 0.0% | Only appears in one file |
| `Favorite` | string | 3 | 0.0% | Type conflict detected: {'float', 'string'} |
| `Film` | integer | 1 | 0.0% | Only appears in one file |
| `For` | float | 1 | 0.0% | Only appears in one file |
| `GP` | integer | 1 | 0.0% | Only appears in one file |
| `Games` | integer | 1 | 0.0% | Only appears in one file |
| `Hold` | float | 1 | 0.0% | Only appears in one file |
| `Home` | float | 1 | 0.0% | Only appears in one file |
| `INT%` | float | 1 | 0.0% | Only appears in one file |
| `INTs` | integer | 1 | 0.0% | Only appears in one file |
| `INTs.1` | float | 1 | 0.0% | Only appears in one file |
| `Inc` | float | 1 | 0.0% | Only appears in one file |
| `L` | integer | 1 | 0.0% | Only appears in one file |
| `Losses` | integer | 1 | 0.0% | Only appears in one file |
| `Matchup` | string | 2 | 0.0% |  |
| `Non Division` | float | 1 | 0.0% | Only appears in one file |
| `Off a Bye` | float | 1 | 6.2% | Only appears in one file |
| `Opponent` | float | 1 | 0.0% | Only appears in one file |
| `Original Rating` | float | 1 | 0.0% | Only appears in one file |
| `Over` | integer | 1 | 0.0% | Only appears in one file |
| `Over.1` | float | 1 | 0.0% | Only appears in one file |
| `Pass` | float | 1 | 0.0% | Only appears in one file |
| `Pass.1` | float | 1 | 0.0% | Only appears in one file |
| `Passer Rtg` | float | 1 | 0.0% | Only appears in one file |
| `Penalties` | float | 1 | 0.0% | Only appears in one file |
| `Play` | float | 1 | 0.0% | Only appears in one file |
| `Play.1` | float | 1 | 0.0% | Only appears in one file |
| `Play.2` | float | 1 | 0.0% | Only appears in one file |
| `Player` | string | 1 | 0.0% | Only appears in one file |
| `Playoff Berths` | integer | 1 | 0.0% | Only appears in one file |
| `Playoffs` | float | 1 | 34.4% | Only appears in one file |
| `Points` | float | 1 | 0.0% | Only appears in one file |
| `Pythag` | float | 1 | 0.0% | Only appears in one file |
| `QB` | string | 2 | 0.0% |  |
| `QB Adj` | float | 1 | 0.0% | Only appears in one file |
| `QB Elo` | float | 1 | 0.0% | Only appears in one file |
| `QBR` | float | 1 | 15.2% | Only appears in one file |
| `Rank` | integer | 1 | 0.0% | Only appears in one file |
| `Rank.1` | integer | 1 | 0.0% | Only appears in one file |
| `Rank.2` | float | 1 | 100.0% | High missing rate: 100.0%; Only appears in one file |
| `Recs` | integer | 1 | 0.0% | Only appears in one file |
| `Red Zone` | float | 1 | 0.0% | Only appears in one file |
| `Result` | string | 1 | 0.0% | Only appears in one file |
| `Return (%)` | float | 1 | 0.0% | Only appears in one file |
| `Return (units)` | float | 1 | 0.0% | Only appears in one file |
| `Rush` | float | 1 | 0.0% | Only appears in one file |
| `Rush.1` | float | 1 | 0.0% | Only appears in one file |
| `Rushing` | float | 1 | 0.0% | Only appears in one file |
| `Sacks` | integer | 1 | 0.0% | Only appears in one file |
| `Sacks.1` | float | 1 | 0.0% | Only appears in one file |
| `Season` | integer | 6 | 0.0% |  |
| `Seasons` | integer | 1 | 0.0% | Only appears in one file |
| `Starts` | integer | 1 | 0.0% | Only appears in one file |
| `Status` | boolean | 1 | 0.0% | Only appears in one file |
| `Success` | float | 1 | 0.0% | Only appears in one file |
| `Super Bowls` | integer | 1 | 0.0% | Only appears in one file |
| `T` | integer | 1 | 0.0% | Only appears in one file |
| `TD%` | float | 1 | 0.0% | Only appears in one file |
| `TD%-INT%` | float | 1 | 0.0% | Only appears in one file |
| `TDs` | integer | 2 | 0.0% |  |
| `TDs.1` | integer | 1 | 0.0% | Only appears in one file |
| `Target Rate` | float | 1 | 100.0% | High missing rate: 100.0%; Only appears in one file |
| `Targets` | integer | 1 | 0.0% | Only appears in one file |
| `Team` | string | 4 | 0.0% |  |
| `Team.1` | float | 1 | 0.0% | Only appears in one file |
| `Ties` | integer | 1 | 0.0% | Only appears in one file |
| `Time (ET)` | string | 2 | 0.0% |  |
| `Total` | float | 2 | 0.0% |  |
| `Total Result` | string | 1 | 0.0% | Only appears in one file |
| `Total WPA` | float | 1 | 0.0% | Only appears in one file |
| `Under` | integer | 1 | 0.0% | Only appears in one file |
| `Under.1` | float | 1 | 0.0% | Only appears in one file |
| `Value` | float | 1 | 0.0% | Only appears in one file |
| `Vegas Total` | float | 1 | 0.0% | Only appears in one file |
| `W` | integer | 1 | 0.0% | Only appears in one file |
| `WPA / DB` | float | 1 | 0.0% | Only appears in one file |
| `Win %` | float | 1 | 0.0% | Only appears in one file |
| `Win Prob.` | float | 2 | 0.0% |  |
| `Win Total` | float | 1 | 0.0% | Only appears in one file |
| `Wins` | integer | 2 | 0.0% |  |
| `WoW` | float | 1 | 0.0% | Only appears in one file |
| `X.1` | string | 1 | 0.0% | Only appears in one file |
| `X.2` | string | 2 | 0.0% |  |
| `X.20` | string | 1 | 0.0% | Only appears in one file |
| `X.23` | string | 1 | 0.0% | Only appears in one file |
| `X.25` | string | 1 | 0.0% | Only appears in one file |
| `X.26` | string | 1 | 0.0% | Only appears in one file |
| `X.3` | string | 1 | 0.0% | Only appears in one file |
| `X.4` | string | 2 | 0.0% |  |
| `X.5` | string | 1 | 0.0% | Only appears in one file |
| `X.6` | string | 2 | 0.0% |  |
| `X.7` | string | 1 | 0.0% | Only appears in one file |
| `X.8` | string | 1 | 0.0% | Only appears in one file |
| `X.9` | string | 1 | 0.0% | Only appears in one file |
| `YAC` | float | 1 | 0.0% | Only appears in one file |
| `YPA` | float | 1 | 0.0% | Only appears in one file |
| `YPC` | float | 2 | 1.1% |  |
| `YPG` | float | 1 | 0.0% | Only appears in one file |
| `YTD` | float | 1 | 0.0% | Only appears in one file |
| `Yards` | integer | 2 | 0.0% |  |
| `Yards.1` | integer | 1 | 0.0% | Only appears in one file |
| `aDOT` | float | 2 | 0.0% |  |
| `away_coach` | string | 1 | 0.0% | Only appears in one file |
| `away_moneyline` | float | 1 | 34.6% | Only appears in one file |
| `away_qb_id` | string | 1 | 34.6% | Only appears in one file |
| `away_qb_name` | string | 1 | 34.6% | Only appears in one file |
| `away_rest` | integer | 1 | 0.0% | Only appears in one file |
| `away_score` | float | 1 | 44.9% | Only appears in one file |
| `away_spread_odds` | float | 1 | 34.6% | Only appears in one file |
| `away_team` | string | 1 | 0.0% | Only appears in one file |
| `def_epa_per_play` | float | 1 | 0.0% | Only appears in one file |
| `def_epa_total` | float | 1 | 0.0% | Only appears in one file |
| `def_plays` | integer | 1 | 0.0% | Only appears in one file |
| `def_success_rate` | float | 1 | 0.0% | Only appears in one file |
| `div_game` | integer | 1 | 0.0% | Only appears in one file |
| `espn` | integer | 1 | 0.0% | Only appears in one file |
| `ftn` | float | 1 | 0.0% | Only appears in one file |
| `game_id` | string | 1 | 0.0% | Only appears in one file |
| `game_type` | string | 1 | 0.0% | Only appears in one file |
| `gameday` | string | 1 | 0.0% | Only appears in one file |
| `gametime` | string | 1 | 0.0% | Only appears in one file |
| `gsis` | float | 1 | 39.7% | Only appears in one file |
| `home_coach` | string | 1 | 0.0% | Only appears in one file |
| `home_moneyline` | float | 1 | 34.6% | Only appears in one file |
| `home_qb_id` | string | 1 | 34.6% | Only appears in one file |
| `home_qb_name` | string | 1 | 34.6% | Only appears in one file |
| `home_rest` | integer | 1 | 0.0% | Only appears in one file |
| `home_score` | float | 1 | 44.9% | Only appears in one file |
| `home_spread_odds` | float | 1 | 34.6% | Only appears in one file |
| `home_team` | string | 1 | 0.0% | Only appears in one file |
| `location` | string | 1 | 0.0% | Only appears in one file |
| `nfelo` | float | 1 | 0.0% | Only appears in one file |
| `nfl_detail_id` | float | 1 | 100.0% | High missing rate: 100.0%; Only appears in one file |
| `off_epa_per_play` | float | 1 | 0.0% | Only appears in one file |
| `off_epa_total` | float | 1 | 0.0% | Only appears in one file |
| `off_pass_plays` | integer | 1 | 0.0% | Only appears in one file |
| `off_plays` | integer | 1 | 0.0% | Only appears in one file |
| `off_rush_plays` | integer | 1 | 0.0% | Only appears in one file |
| `off_success_rate` | float | 1 | 0.0% | Only appears in one file |
| `old_game_id` | integer | 1 | 0.0% | Only appears in one file |
| `over_odds` | float | 1 | 34.6% | Only appears in one file |
| `overtime` | float | 1 | 44.9% | Only appears in one file |
| `pff` | float | 1 | 0.0% | Only appears in one file |
| `pfr` | string | 1 | 0.0% | Only appears in one file |
| `referee` | string | 1 | 44.9% | Only appears in one file |
| `result` | float | 1 | 44.9% | Only appears in one file |
| `roof` | string | 1 | 0.0% | Only appears in one file |
| `season` | integer | 2 | 0.0% |  |
| `spread_line` | float | 1 | 34.6% | Only appears in one file |
| `stadium` | string | 1 | 0.0% | Only appears in one file |
| `stadium_id` | string | 1 | 0.0% | Only appears in one file |
| `surface` | string | 1 | 0.4% | Only appears in one file |
| `team` | string | 1 | 0.0% | Only appears in one file |
| `temp` | float | 1 | 62.9% | High missing rate: 62.9%; Only appears in one file |
| `total` | float | 1 | 44.9% | Only appears in one file |
| `total_line` | float | 1 | 34.6% | Only appears in one file |
| `under_odds` | float | 1 | 34.6% | Only appears in one file |
| `vs Sticks` | float | 1 | 0.0% | Only appears in one file |
| `week` | integer | 2 | 0.0% |  |
| `weekday` | string | 1 | 0.0% | Only appears in one file |
| `wind` | float | 1 | 62.9% | High missing rate: 62.9%; Only appears in one file |
| `~~~2025 Forecast~~~` | string | 1 | 0.0% | Only appears in one file |
| `~~~Per 17 Gms~~~` | string | 1 | 0.0% | Only appears in one file |
| `~~~Ratings~~~` | string | 1 | 0.0% | Only appears in one file |

## 3. Columns Requiring Disambiguation

The following columns have type conflicts across files:

### `Favorite`

- **Detected types:** float, string
- **Recommended type:** `string`
- **Appears in:** 3 file(s)

### Similar Column Names

These columns may represent the same concept with different naming:

- `game_id`, `gameday`, `old_game_id`
  - Consider standardizing to one name
- `season`, `Season`, `Seasons`
  - Consider standardizing to one name
- `game_type`, `gametime`, `T`
  - Consider standardizing to one name
- `week`, `weekday`, `Change (Week)`, `W`
  - Consider standardizing to one name
- `away_team`, `Team`, `Away`, `team`
  - Consider standardizing to one name
- `away_score`, `away_rest`, `away_coach`
  - Consider standardizing to one name
- `home_team`, `Home`
  - Consider standardizing to one name
- `home_score`, `home_rest`, `home_coach`
  - Consider standardizing to one name
- `location`, `L`
  - Consider standardizing to one name
- `result`, `Result`, `Total Result`
  - Consider standardizing to one name
- `total`, `total_line`, `Total`, `Vegas Total`, `Adj. Total`, `Total WPA`, `Win Total`, `off_epa_total`, `def_epa_total`
  - Consider standardizing to one name
- `overtime`, `Over`
  - Consider standardizing to one name
- `away_moneyline`, `home_moneyline`
  - Consider standardizing to one name
- `away_spread_odds`, `home_spread_odds`
  - Consider standardizing to one name
- `under_odds`, `over_odds`, `Under`
  - Consider standardizing to one name
- `wind`, `Wins`
  - Consider standardizing to one name
- `away_qb_id`, `away_qb_name`, `QB`
  - Consider standardizing to one name
- `home_qb_id`, `home_qb_name`
  - Consider standardizing to one name
- `stadium_id`, `stadium`
  - Consider standardizing to one name
- `EPA/Play`, `EPA/Play Against`, `Play`
  - Consider standardizing to one name
- `Targets`, `/ Target`, `Starts`
  - Consider standardizing to one name
- `Yards`, `Yards.1`, `Air Yards`
  - Consider standardizing to one name
- `TDs`, `TDs.1`
  - Consider standardizing to one name
- `/ Game`, `Games`
  - Consider standardizing to one name
- `CROE`, `CPOE`
  - Consider standardizing to one name
- `Points`, `INTs`
  - Consider standardizing to one name
- `/ DB`, `WPA / DB`
  - Consider standardizing to one name
- `Comp`, `Comp%`
  - Consider standardizing to one name
- `Sacks`, `Sacks.1`
  - Consider standardizing to one name
- `TD%`, `TD%-INT%`
  - Consider standardizing to one name
- `Success`, `off_success_rate`, `def_success_rate`
  - Consider standardizing to one name
- `Passer Rtg`, `Pass`
  - Consider standardizing to one name
- `QB Elo`, `Elo`
  - Consider standardizing to one name
- `Rushing`, `Rush`
  - Consider standardizing to one name
- `Penalties`, `Ties`
  - Consider standardizing to one name
- `CB`, `CB Opps`, `CB%`
  - Consider standardizing to one name
- `Play.1`, `Play.2`
  - Consider standardizing to one name
- `For`, `~~~2025 Forecast~~~`
  - Consider standardizing to one name
- `X.2`, `X.20`, `X.23`, `X.25`, `X.26`
  - Consider standardizing to one name
- `Avg. Opp. Rating`, `Avg. Opp. Rating.1`, `Avg. Opp. Rating.2`
  - Consider standardizing to one name
- `Rank`, `Rank.1`, `Rank.2`
  - Consider standardizing to one name
- `Playoff Berths`, `Playoffs`
  - Consider standardizing to one name
- `Return (units)`, `Return (%)`
  - Consider standardizing to one name
- `Avg PF`, `Avg PA`
  - Consider standardizing to one name
- `Division`, `Non Division`
  - Consider standardizing to one name
- `off_plays`, `off_pass_plays`, `off_rush_plays`, `def_plays`
  - Consider standardizing to one name
- `off_epa_per_play`, `def_epa_per_play`
  - Consider standardizing to one name

## 4. Potentially Deprecated or Unused Columns

The following columns may be deprecated or unused:

### `nfl_detail_id`
- **Reason:** Very high missing rate (100.0%)
- **Files:** cache/schedules_2025.csv

### `temp`
- **Reason:** Only in one file with 62.9% missing
- **Files:** cache/schedules_2025.csv

### `wind`
- **Reason:** Only in one file with 62.9% missing
- **Files:** cache/schedules_2025.csv

### `/ Route`
- **Reason:** Very high missing rate (100.0%)
- **Files:** current_season/nfelo_nfl_receiving_leaders_2025_week_11.csv

### `Target Rate`
- **Reason:** Very high missing rate (100.0%)
- **Files:** current_season/nfelo_nfl_receiving_leaders_2025_week_11.csv

### `Avg. Opp. Rating.2`
- **Reason:** Very high missing rate (100.0%)
- **Files:** current_season/strength_of_schedule_nfelo_2025_week_11.csv

### `Rank.2`
- **Reason:** Very high missing rate (100.0%)
- **Files:** current_season/strength_of_schedule_nfelo_2025_week_11.csv

## 5. Recommendations for Future Naming Conventions

Based on the analysis, here are recommendations for Ball_Knower v2.0:

### Naming Standards

1. **Use snake_case consistently** - Most columns already follow this pattern
2. **Standardize team identifiers** - Decide on `team`, `team_code`, or `team_abbr`
3. **Prefix related metrics** - Group related columns (e.g., `off_*`, `def_*`)
4. **Avoid special characters** - Remove `X.`, `~~~`, or other non-alphanumeric prefixes

### Type Consistency

1. **Document expected types** - Create explicit type specifications for each column
2. **Handle missing data uniformly** - Decide on NaN vs empty string vs special values
3. **Numeric precision** - Standardize decimal places for rate/percentage columns

### File Organization

1. **Consistent file naming** - Use pattern: `{category}_{metric}_{season}_week_{week}.csv`
2. **Separate historical vs current** - Clear distinction between archives and live data
3. **Document file relationships** - Specify which files can be joined and on what keys

---

*Generated on: 2025-11-18 15:10:45*